ZigzagDownLoader (ZDL version 1.0) - Download manager 
---------------------------------------------------------------------


Uso (l'ordine degli argomenti non è importante): zdl [opzioni] [file_1
	file_2 ...] [link_1 link_2 ...]

---------------------------------------------------------------------
Opzioni: 
-h,	--help      Manuale di ZigzagDownLoader (ZDL)

	--wget	    Forza l'uso di Wget axel Forza l'uso di Axel

-m,     --multi     Download parallelo
        --login     Utilizza eventuali account registrati

-u, 	--update    Aggiorna ZDL --clean Cancella eventuali file
		    temporanei dalla directory di destinazione, prima
		    di effettuare il download

-i,	--interactive   Avvia l'interfaccia interattiva di ZDL per i
			download che hanno come destinazione la
			directory attuale. I download gestiti possono
			essere attivi o registrati nei file temporanei
			della directory

-d,     --daemon        Avvia ZDL in modalità "demone" (può essere
                        controllato attraverso l'interfaccia interattiva)


	--ip 		Scrive l'indirizzo IP attuale, prima di
			effettuare altre operazioni


---------------------------------------------------------------------
Avvio con proxy:

	--proxy			Avvia ZDL attivando un proxy
				automaticamente (il tipo 
				di proxy predefinito è Transparent)
				
	--proxy=[t|a|e] 	Avvia ZDL attivando un proxy del tipo
				definito dall'utente:
					 t = Transparent
					 a = Anonymous
					 e = Elite
				
	--proxy=IP:PORTA	Avvia ZDL attivando il proxy indicato
				dall'utente, per l'intera durata del
				download (il proxy viene sostituito
				automaticamente solo per i link dei
				servizi abilitati che necessitano di
				un nuovo indirizzo IP)

---------------------------------------------------------------------
Configurazione: 
-c,	--configure	Interfaccia di configurazione di ZDL,
			permette anche di salvare eventuali
			account dei servizi di hosting 


Per scaricare lo stream dai browser (anche file multimediali), il
modello generico dei parametri per le componenti aggiuntive
(rispettare l'ordine, più avanti le istruzioni dettagliate): 
	--stream [PARAMETRI] [--noXterm]
	


=====================================================================
Il gestore di download ZigzagDownLoader: manuale e consigli d'uso.
---------------------------------------------------------------------

ZDL è abilitato per il download da ogni tipo di link valido, compresi
lo stream video (per esempio da Youtube, Putlocker, Nowvideo,
Dailymotion...) ed i file condivisi attraverso i seguenti servizi di
hosting, direttamente dal link senza ulteriori estensioni per i
web browser:
Putlocker (scarica il file in formato AVI, se si tratta di un filmato
disponibile anche in streaming), Youtube, Dailymotion, Metacafe,
Nowdownload, Rapidshare, Tusfiles, Cyberlocker, Mediafire, Easybytez,
Uload e Glumbouploads (Sharpfile, Depositfiles e altri servizi, dopo
aver risolto il captcha, anche avviando ZDL con il browser attraverso
le componenti aggiuntive compatibili). Inoltre, ZDL converte i
redirect di Likeupload, avviando automaticamente il download dai link
reindirizzati.  

ZDL può essere avviato in diversi modi:

    A) PER IMMETTERE LINK E AVVIARE NUOVI DOWNLOAD

	1) Generando automaticamente la lista dei link per il
	download:
	- apri un terminale ed entra nella directory che
	  dovrà contenere i file scaricati
	- avvia zdl digitando il comando seguito da eventuali opzioni
	- copia i link dei file da scaricare e incollali nel terminale
	  (vai a capo dopo ogni link)
	- premi la chiocciolina "@"

	2) Utilizzando uno o più file preparati con un editor di testi
	   (andare a capo dopo ogni link) e raggiungibili dalla
	   directory di destinazione (indica un path valido):
	   - apri un terminale ed entra nella directory che dovrà
	     contenere i file scaricati
	   - digita il seguente comando e premi invio:
	     	    zdl path/file_1 path/file_2 ... path/file_n
	
	3) Indicando direttamente a ZDL i link da processare (se link
	   validi dovessero essere dichiarati non validi, usare
	   il modo 1), per esempio: zdl link_1 link_2 ... link_n
	
	4) Dal browser web, attraverso l'uso di componenti aggiuntive
	   (più in basso le istruzioni), allo scopo di catturare e
	   salvare lo stream di un video o un altro file di qualsiasi
	   tipo.

        5) In modalità "demone"

      I file e i link dei punti 2) e 3) possono essere
      mescolati. Tutti i link degli input sono salvati nel file
      links.txt, nella directory di destinazione.


    B) PER GESTIRE DOWNLOAD GIÀ AVVIATI NELLE MODALITÀ "NON
    INTERATTIVA" E "DEMONE"

        - Avviando la modalità interattiva in due modi:
	  1) in console dalla directory di destinazione dei download,
	     con il comando zdl -i oppure zdl --interactive
	  2) nella modalità "non interattiva" (standard), digitando il
             tasto "i"

ZDL può essere fermato in diversi modi:

        - Se i download sono gestiti dalla modalità "non
          interattiva"/standard:
	  1) digitando Control+c (in questo caso saranno interrotti
             anche i download di Axel)
	  2) digitando il tasto "q" (tutti i download già avviati
             nella directory corrente con Wget e Axel non saranno
             interrotti, ma non verranno più gestiti da ZDL)

	- Se i download sono gestiti dalla modalità "demone":
	  attraverso la modalità interattiva (zdl -i) avviata nella
	  directory gestita dal demone, digitando il tasto di stop:
	  "s" (in questo caso i download avviati con Axel e Wget non
	  sarano interrotti, ma non verranno gestiti da ZDL)


Altre informazioni utili.

Per i servizi di hosting seguenti è consigliato l'uso della funzione
"multi" (aggiungere l'argomento -m alle istruzioni sopra elencate) per
procedere con il download in parallelo, eventualmente attraverso l'uso
di proxy: Easybytez, Sharpfile e Mediafire

Per scaricare da Sharpfile, Depositfiles e da altri servizi,
attualmente è necessario utilizzare il browser per risolvere il
captcha, generare il link ed avviare ZDL attraverso le componenti
aggiuntive compatibili dei browser o copiandolo ed incollandolo nel
terminale, per passarlo a ZDL.

In caso di interruzione del download (per esempio a causa di
disconnessione), i file scaricati attraverso Axel possono riprendere
il download dal punto di interruzione (solo se nella cartella che
contiene il file scaricato è ancora presente il file omonimo con
estensione ".st"). Se i file interrotti sono stati scaricati con Wget,
non possono essere recuperati e verranno riscaricati automaticamente
da capo. I servizi seguenti sono abilitati solo per il download con
Wget: Easybytez, Dailymotion. Gli altri servizi (Nowdownload,
Rapidshare, Putlocker, Tusfiles, Cyberlocker, Mediafire, Uload,
Glumbouploads, Sharpfile, Depositfiles, ...) sono abilitati in modo
predefinito per Axel. In ogni caso ZDL provvederà automaticamente a
recuperare il download o a rieseguirlo da capo. Nel caso in cui anche
ZDL è stato terminato, il recupero manuale è possibile riavviando ZDL
e digitando la chiocciolina "@".

Il file links.txt contiene tutti i link processati da ZDL, da ogni
input possibile: i file ed i link passati a ZDL come argomenti o
attraverso liste contenute in file di testo o passati attraverso
componenti aggiuntive dei browser oppure, in mancanza di tali dati, i
link incollati al terminale, prima di avviare il download digitando
"@". Il file links.txt serve soprattutto al recupero manuale dei link
di download interrotti, nel caso in cui non fossero più disponibili i
file temporanei di ZDL (per esempio, nel caso di errato utilizzo
dell'opzione [--clean])

L'argomento [--wget|--axel], wget oppure axel, consente la scelta del
downloader. Axel è un acceleratore di download fortemente consigliato
e abilitato in modo predefinito per tutti i link e per quasi tutti i
servizi di hosting. L'argomento [-c|--configure] consente di
configurare il downloader di default, cioè di selezionare Wget al
posto di Axel senza dover attivare Wget manualmente adottando
l'argomento "--wget".

L'argomento [--clean] cancella eventuali residui di file temporanei di
ZDL nella directory di destinazione, prima di iniziare a processare i
link immessi dall'utente.

La funzione [-i|--interactive] permette di visualizzare i download di
ZDL utilizzando un altro terminale oppure dallo stesso terminale di
avvio dei download attraverso Wget nel caso in cui ZDL è terminato
(per decisione dell'utente, premendo Ctrl+C, oppure
accidentalmente). Infatti, i download di Wget procedono in background
e non muoiono insieme a ZDL (tecnicamente possono essere tutti uccisi
"terminando il terminale"). Per uccidere uno o più processi già
avviati (definitivamente oppure per riavviarli automaticamente), anche
con ZDL perfettamente attivo, da un altro terminale entrare nella
directory di destinazione e digitare "zdl -i" o "zdl --interactive":
comparirà un'interfaccia con cui poter interagire con i processi di
ZDL.

È possibile (ed è raccomandato) far processare, nella stessa lista,
link di mirror diversi per uno stesso file (per esempio: se vogliamo
scaricare file.part1.rar, file.part2.rar e file.part3.rar e abbiamo
copie di questi file in servizi di hosting differenti, si consiglia di
usare tutti i link disponibili, perché ZDL processerà tutti i link e
scaricherà una sola copia dei file, utilizzando il link migliore).

L'argomento [--login] attiva il login automatico nel caso la
configurazione di ZDL comprenda uno o più account per l'uso di un
servizio di hosting. In particolare, la registrazione di molti account
per Easybytez non solo permette il download di file di grandezza fino
a 600 MB, ma consente anche lo scaricamento parallelo di più file
senza l'uso di proxy (in questo caso è necessario specificare anche
[-m|--multi]). Per configurare l'uso di account: zdl [-c|--configure]

Inoltre, ZDL accetta come argomenti un numero illimitato di file di
testo contenenti link ed è stato progettato anche per scaricare il
file di uno stream video. Per quest'ultima operazione è
particolarmente indicato l'utilizzo di Flashgot, componente aggiuntivo
di Firefox/Iceweasel (http://flashgot.net/). È disponibile anche
un'integrazione manuale di ZDL con Chrome/Chromium attraverso l'uso di
alcune estensioni (qualitativamente inferiori a Flashgot, più avanti
le istruzioni).

Infine, la funzione [--ip] mostra l'indirizzo IP corrente.


---------------------------------------------------------------------
Un altro modo di usare ZDL, per aggiungere opzioni al download dal
browser.  La spiegazione di seguito con un esempio, partendo da un
problema pratico:

Problema:

voglio scaricare dei file da Easybytez usando Flashgot, ma voglio
anche usare le opzioni --login, --multi e --clean, che non sono
impostate di default. Come posso utilizzare queste funzioni aggiuntive
usando il browser (con Flashgot), se queste possono essere attivate
solo dal terminale?

Soluzione:

    avvio zdl in un terminale, dalla directory di destinazione,
    utilizzando tutte le opzioni di cui ho bisogno:

    zdl -m --login --clean

    usando Firefox, clicco con il tasto destro del mouse sui link dei
    file da scaricare e avvio il download con Flashgot: il download
    non viene effettuato subito e i link vengono registrati da zdl per
    essere processati da un'altra istanza attiva del programma (quella
    nel terminale)

    quando ho finito di registrare i link, torno al terminale e, senza
    scrivere nulla, digito la chiocciolina @



---------------------------------------------------------------------
Come aggiungere estensioni personalizzate e sperimentali.  ZDL
incorpora il codice che trova in tutti gli script *.sh nella directory
$HOME/.zdl/extensions/

Per esempio:

## add-on Pippo

if [ "\$url_in" != "\${url_in//'http://pippo.org'}" ]; then
   url_in_file="\${url_in//'http://pippo.org'/http://USER:PASSWORD@pippo.org}"
   file_in="\${url_in##*/}" unset multi axel_parts=3 fi

L'esempio può essere usato come modello, modificando l'url del
download aggiungendo USER e PASSWORD per i link di pippo.org
(variabile \$url_in_file), indicando come ricavare il nome del file da
scaricare (variabile \$file_in), aggiungendo o modificando opzioni,
come disattivare la funzione multi (serve a scaricare più file in
parallelo) e stabilire il numero di parti da scaricare con Axel (il
grado di accelerazione, che per default è 32 ma che per diversi server
può essere eccessivo o insufficiente, peggiorando le prestazioni).

In questo modo, è possibile estendere ZDL ad altri servizi di file
hosting (anche a scopo sperimentale), aggiungere opzioni mirate e
personalizzate o implementare il funzionamento del programma,
utilizzando le variabili e le funzioni disponibili nello script
/usr/local/bin/zdl, senza modificare il sorgente, scrivendo
semplicemente un file *.sh nella directory \$HOME/.zdl/extensions/


---------------------------------------------------------------------
Integrazione con Firefox/Iceweasel 
CONFIGURAZIONE MANUALE DI FLASHGOT.

La configurazione manuale di Flashgot non dovrebbe essere necessaria,
perché ZDL avvia un controllo della configurazione di Flashgot dopo
ogni aggiornamento del software o della configurazione ed
eventualmente, se glielo consente la propria configurazione (zdl
--configure), provvede a configurarlo automaticamente.

Configurazione manuale di Flashgot per ZDL:

	1) dopo aver installato flashgot, il componente aggiuntivo di
	   Firefox, avvia Firefox (o Iceweasel) e apri la
	   finestra per la gestione delle opzioni di flashgot:
	   (dal menu di firefox)--> Strumenti --> FlashGot --> Altre
	   opzioni... 

	2) nel tab "Generale" aggiungi "ZigzagDownLoader" come
	   downloader
		
	3) ancora nel tab "Generale", il "Percorso dell'eseguibile:"
	   su GNU/LINUX: /usr/local/bin/zdl su WINDOWS:
	   \Cygwin\zdl.bat

	3) sempre nel tab "Generale", in "Modello dei parametri",
	   incolla la seguente stringa: --stream [URL] [FNAME]
	   [FOLDER] [CFILE] [COOKIE] [REFERER]

	4) nel tab "FlashGot Media" scegli "ZigzagDownLoader" come
	   "Download manager"



---------------------------------------------------------------------
Integrazione con Chrome/Chromium 
ESTENSIONI DI CHROME/CHROMIUM E CONFIGURAZIONE.  

Non è attualmente prevista una configurazione automatica delle
estensioni di Chrome/Chromium, quindi sarà necessario configurarle
manualmente come segue. 

Le estensioni di Chrome/Chromium che permettono l'uso di ZDL come
download manager esterno sono le seguenti:

Download Assistant:
http://mac.softpedia.com/get/Internet-Utilities/Chrome-Extensions/Download-Assistant.shtml

     -  istruzioni per l'installazione e informazioni utili:
     	http://www.lffl.org/2011/03/chrome-utilizzare-un-download-manager.html
     -  configurazione per ZDL (dal menu: Strumenti -> Estensioni)
     	1) clicca su Opzioni dell'estensione
	2) in Add More Downloaders, aggiungi "ZigzagDownLoader" nella
     	   colonna Name
	3) aggiungi
		zdl --stream "$URL" "$FILE_NAME" --noXterm
	   nella colonna Command line
	4) clicca sul bottone Save & Close
    
Simple Get: http://www.chromeextensions.org/other/simple-get/ 
     - istruzioni per l'installazione come per Download Assistant
     - configurazione per ZDL, Opzioni:
       1) in corrispondenza di Path: scrivi /usr/local/bin/zdl
       2) in Parameters scrivi: --stream [SG_URL] [SG_DESTINATION]
       3) clicca sul bottone Save

Le estensioni qua sopra funzionano anche con FVD Video Downloader
[https://chrome.google.com/webstore/detail/lfmhcpmkbdkbgbmkjoiopeeegenkdikp]
(per scaricare i video in streaming: clicca con il tasto destro del
mouse sui link che compaiono nella tendina aperta dall'estensione, poi
scegli il download manager ZigzagDownLoader)


---------------------------------------------------------------------
Funzione interattiva di Conkeror.

ZDL implementa automaticamente il browser Conkeror con la nuova
funzione "zdl".  Per attivarla, digita: M+x zdl

Dopo aver avviato il comando, il minibuffer di Conkeror: 
     - chiede di selezionare la directory di destinazione
     - offre la possibilità di utilizzare le opzioni di zdl (lasciare
       il campo vuoto per non selezionarle)
     - mostra e indicizza i link nel buffer corrente (per esempio la
       pagina web), per procedere nella selezione del link (il link
       della pagina corrente corrisponde all'indice 0)
     - avvia ZDL in un terminale xterm oppure, se è stata selezionata
       l'opzione --daemon (oppure -d), in background. In ogni caso è
       possibile gestire i download utilizzando l'interfaccia
       interattiva: zdl -i 


---------------------------------------------------------------------
XXXTerm (Xombrero) e altri software.

ZDL dispone anche dello script /usr/local/bin/zdl-xterm, che può
essere avviato da qualunque applicazione e da un terminale. È stato
pensato per rendere possibile l'avvio di ZDL in contesti diversi da
quelli previsti dal programma. In particolare, XXXTerm può avviare uno
script bash, utilizzando il comando :run_script, passandogli un solo
argomento: il link della pagina corrente. Questo rende impossibile
l'avvio standard di zdl in un'istanza di xterm, perché :run_script non
accetta ulteriori parametri. L'avvio di zdl in un nuovo terminale
virtuale xterm è reso possibile da zdl-xterm.

Uso in XXXTerm: 
    * comando :run_script
    * digita: zdl-xterm
    * il programma avvia un'istanza di xterm che:
      - chiede in quale directory scaricare il file (è possibile
      	evitare questa interazione configurando zdl-xterm: inserisci in
      	/usr/local/bin/zdl-xterm, come valore della variabile
      	"default_directory" all'inizio dello script, il path di una
      	directory valida)
      - zdl-xterm avvia zdl sull'URL corrente

Semplificazione per XXXTerm.  Per utilizzare zdl-xterm con più
rapidità, XXXTerm può essere configurato in molti modi.

Un suggerimento: 
   - apri il file $HOME/.xxxterm.conf
   - inserisci il seguente testo:

  default_script = zdl-xterm
  keybinding = run_script,C-z
  
Con la configurazione suggerita, digitando Ctrl+z si avvia il prompt
di :run_script con il campo già occupato dal nome dello script
zdl-xterm: è sufficiente premere invio.



---------------------------------------------------------------------
AGGIORNARE ZDL.
Se è disponibile una nuova versione del programma, ZDL si aggiorna
automaticamente. È possibile disabilitare l'aggiornamento automatico
modificando la configurazione (zdl --configure).  Inoltre, per
aggiornare manualmente ZDL è sufficiente usare l'argomento -u
(--update). 


---------------------------------------------------------------------
INSTALLAZIONE PER GNU/LINUX

 -  Scarica l'installatore (è uno script per la Bash):
    http://download.savannah.gnu.org/releases/zdl/install_zdl.sh 

 -  Attribuisci i diritti di esecuzione allo script:
    chmod +x install_zdl.sh

 -  esegui lo script: ./install_zdl.sh


---------------------------------------------------------------------
INSTALLAZIONE PER WINDOWS.

ZDL funziona anche su Windows.
Installazione su Windows in due fasi: 

FASE 1 _ Installazione di Cygwin 32 bit 

     - installatore automatico di Cygwin (serve anche ad aggiornare il
       sistema emulato e ad installare nuovi pacchetti): 
       http://cygwin.com/setup_x86.exe
     - con l'installatore di Cygwin, installa il pacchetto "Wget"

FASE 2 _ Installazione di ZDL 

     - salva nella cartella \cygwin il seguente file:
       http://download.savannah.gnu.org/releases/zdl/install_zdl.sh 

     - avvia Cygwin installato nella fase 1

     - digita il seguente comando: /install_zdl.sh

Uso di ZDL su Windows: avvia Cygwin e utilizza ZDL nel terminale
avviato, come descritto in questa guida.


---------------------------------------------------------------------
LICENSE.  

This program is free software: you can redistribute it
and/or modify it under the terms of the GNU General Public License as
published by the Free Software Foundation; either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see http://www.gnu.org/licenses/.

Copyright (C) 2012 Free Software Foundation, Inc.

For information or to collaborate on the project:
https://savannah.nongnu.org/projects/zdl

Gianluca Zoni (project administrator and first inventor)
http://inventati.org/zoninoz 
zoninoz@inventati.org


