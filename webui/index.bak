<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>zdl</title>
</head>

<body>
    <h2>ZDL</h2>
    <img src="Hexadecimal-counting.jpg">
    <div id="out" style="margin-bottom:20px"></div>
    <button onclick="loadJson('/tmp/zdl.d/data.json');">aggiorna JSON</button>
<!--
    <button onclick="loadJson('/tmp/zdl.d/data3.json');">aggiorna JSON</button>
-->
    <script>
    function loadJson (url) {
        var req = new XMLHttpRequest();
        req.open('GET', url, true);
        req.onload = function() {
            if (req.status == 200) {
//		console.log (req.status);
		/* data2.json */
		var data = JSON.parse(req.responseText);
		var firstkey = Object.keys(data)[0];
		document.getElementById('out').innerText = "Link: " + data[firstkey][0].link +
		                                           "\nFile: " + data[firstkey][0].file;
		/* data3.json */
		//var data = JSON.parse(req.responseText);
		//document.getElementById('out').innerText = "Link: " + data.link + 
                //"\nFile: " + data.file;                                           
                
            } else {
		alert("Error " + req.status);
            }
        };

        req.send();
    }
    </script>
</body>

</html>
